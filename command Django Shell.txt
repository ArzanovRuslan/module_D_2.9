from news.models import *

user_1 = User.objects.create_user(username='Александр Иванов')
user_2 = User.objects.create_user(username='Владимир Петров')
User.objects.create_user(username='Дмитрий Соколов')
User.objects.create_user(username='Николай Фоменко')

Author.objects.create(authorUser=user_1)
Author.objects.create(authorUser=user_2)

main = Category.objects.create(name='Главное')
society = Category.objects.create(name='Общество')
politics = Category.objects.create(name='Политика')
sport = Category.objects.create(name='Спорт')

Post.objects.create(author=Author.objects.get(id=1), categoryType='NE', title='Овечкин признан первой звездой дня в НХЛ', text='36-летний капитан оформил дубль в матче с «Калгари» (5:4). Кроме того, он догнал Яромира Ягра в списке лучших снайперов НХЛ за всю историю (вышел на третье место). Теперь в активе Овечкина 766 шайб.')
Post.objects.create(author=Author.objects.get(id=2), categoryType='AR', title='Топ 10 самых влиятельных политиков в Мире', text='Говорят, что каждый лидер - это политик, но не каждый политик является лидером. В некоторых странах есть великие политики, которые играют очень важную роль в развитии страны.Итак, вот список 10 самых влиятельных политиков в мире сейчас: ...')
Post.objects.create(author=Author.objects.get(id=2), categoryType='AR', title='Созидательное общество. Лучшее будущее для каждого', text='Для большинства мирового сообщества уже очевиден тот факт, что мы как цивилизация потребительского формата зашли в тупик...')

Post.objects.get(id=1).postCategory.add(sport, society)
Post.objects.get(id=2).postCategory.add(politics, society)
Post.objects.get(id=3).postCategory.add(society)

Comment.objects.create(commentPost=Post.objects.get(id=1), commentUser=User.objects.get(username='Дмитрий Соколов'), text='Молодец Саня, давай 1000!!!')
Comment.objects.create(commentPost=Post.objects.get(id=1), commentUser=User.objects.get(username=user_2), text='Не люблю спорт.')
Comment.objects.create(commentPost=Post.objects.get(id=2), commentUser=User.objects.get(username='Дмитрий Соколов'), text='Ожидаемо, но я не согласен с этим списком')
Comment.objects.create(commentPost=Post.objects.get(id=3), commentUser=User.objects.get(username='Николай Фоменко'), text='Ничего не понятно, но очень интересно')
Comment.objects.create(commentPost=Post.objects.get(id=3), commentUser=User.objects.get(username='Александр Иванов'), text='Всем привет')

Post.objects.get(id=1).like()
Post.objects.get(id=2).dislike()
Post.objects.get(id=2).like()
Post.objects.get(id=1).like()
Post.objects.get(id=2).like()
Post.objects.get(id=1).like()
Post.objects.get(id=3).like()
Post.objects.get(id=2).dislike()
Post.objects.get(id=2).dislike()

Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=1).like()
Comment.objects.get(id=2).dislike()
Comment.objects.get(id=2).dislike()
Comment.objects.get(id=2).dislike()
Comment.objects.get(id=3).like()
Comment.objects.get(id=3).like()
Comment.objects.get(id=3).dislike()
Comment.objects.get(id=4).like()
Comment.objects.get(id=5).like()

Author.objects.get(id=1).update_rating()
Author.objects.get(id=1).update_rating()

list = Author.objects.order_by('-ratingAuthor')[:1]
for i in list:
    i.ratingAuthor
    i.authorUser.username

listPost = Post.objects.filter(categoryType='AR').order_by('-rating')[:1]
for i in listPost:
	i.dateCreation.strftime("%Y-%m-%d")
	i.author.authorUser.username
	i.rating
	i.title
	i.preview()
	index = i.id

listComment = Comment.objects.filter(commentPost=index)
for i in listComment:
	i.dateCreation.strftime("%Y-%m-%d")
	i.commentUser.username
	i.rating
	i.text